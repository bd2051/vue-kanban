webpackJsonp([1],{1138:function(t,n,e){var s=e(36)(e(43),e(1140),null,null);t.exports=s.exports},1139:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[t._m(0),t._v(" "),e("Kanban",{attrs:{stages:t.statuses,blocks:t.blocks,config:{revertOnSpill:!0},"before-update-block-hook":!0},on:{"update-block":t.updateBlock,"before-update-block":t.beforeUpdateBlock}},[t._l(t.statuses,function(n){return e("div",{key:n,slot:n},[e("h2",[t._v("\n        "+t._s(n)+"\n        "),e("a",[t._v("+")])])])}),t._v(" "),t._l(t.blocks,function(n){return e("div",{key:n.id,slot:n.id},[e("div",[e("strong",[t._v("id:")]),t._v(" "+t._s(n.id)+"\n      ")]),t._v(" "),e("div",[t._v("\n        "+t._s(n.title)+"\n      ")])])}),t._v(" "),t._l(t.statuses,function(n){return e("div",{key:n,slot:"footer-"+n},[e("a",{attrs:{href:""},on:{click:function(e){e.preventDefault(),function(){t.addBlock(n)}()}}},[t._v("+ Add new block")])])})],2)],1)},staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("section",{staticClass:"section"},[e("h4",[t._v("\n      Vue adoptation of Ettric's\n      "),e("a",{attrs:{href:"//codepen.io/ettrics/pen/QbPEeg"}},[t._v("Codepen")])])])}]}},1140:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"drag-container"},[e("ul",{staticClass:"drag-list"},t._l(t.stages,function(n){return e("li",{key:n,staticClass:"drag-column",class:(s={},s["drag-column-"+n]=!0,s)},[e("span",{staticClass:"drag-column-header"},[t._t(n,[e("h2",[t._v(t._s(n))])])],2),t._v(" "),e("div",{staticClass:"drag-options"}),t._v(" "),e("ul",{ref:"list",refInFor:!0,staticClass:"drag-inner-list",attrs:{"data-status":n}},t._l(t.getBlocks(n),function(n){return e("li",{key:n.id,staticClass:"drag-item",attrs:{"data-block-id":n.id}},[t._t(n.id,[e("strong",[t._v(t._s(n.status))]),t._v(" "),e("div",[t._v(t._s(n.id))])])],2)})),t._v(" "),e("div",{staticClass:"drag-column-footer"},[t._t("footer-"+n)],2)]);var s}))])},staticRenderFns:[]}},38:function(t,n,e){e(86);var s=e(36)(e(42),e(1139),null,null);t.exports=s.exports},41:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e(39),i=e(38),a=e.n(i);s.a.config.productionTip=!1,new s.a({el:"#app",template:"<App/>",components:{App:a.a}})},42:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e(87),i=e.n(s),a=e(1134),o=(e.n(a),e(1138)),r=e.n(o);n.default={name:"app",components:{Kanban:r.a},data:function(){return{statuses:["on-hold","in-progress","needs-review","approved"],blocks:[]}},mounted:function(){for(var t=0;t<=10;t+=1)this.blocks.push({id:t,status:this.statuses[Math.floor(4*Math.random())],title:i.a.company.bs()})},methods:{updateBlock:e.i(a.debounce)(function(t,n){this.blocks.find(function(n){return n.id===Number(t)}).status=n},500),addBlock:e.i(a.debounce)(function(t){this.blocks.push({id:this.blocks.length,status:t,title:i.a.company.bs()})},500),beforeUpdateBlock:function(t,n,e,s,i){s()}}}},43:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e(44),i=e.n(s),a=e(46),o=e.n(a),r=e(45),c=e.n(r),u=e(85),d=e.n(u),l=e(1147);n.default={name:"KanbanBoard",props:{stages:{type:Array,required:!0},blocks:{type:Array,required:!0},config:{type:Object,default:function(){return{}}},stateMachineConfig:{type:Object,default:null},beforeUpdateBlockHook:{type:Boolean,default:!1}},data:function(){return{machine:null}},computed:{localBlocks:function(){return this.blocks}},methods:{getBlocks:function(t){return this.localBlocks.filter(function(n){return n.status===t})},findPossibleTransitions:function(t){return this.machine.config.states[t].on||{}},findTransition:function(t,n){var e=t.dataset.status,s=n.dataset.status,i=this.findPossibleTransitions(s);return c()(i).find(function(t){return i[t]===e})},accepts:function(t,n,e){if(!this.machine)return!0;var s=n.dataset.status,i=e.dataset.status;return o()(this.findPossibleTransitions(i)).includes(s)}},updated:function(){this.drake.containers=this.$refs.list},mounted:function(){var t=this;this.config.accepts=this.config.accepts||this.accepts,this.drake=d()(this.$refs.list,this.config).on("drag",function(t){t.classList.add("is-moving")}).on("drop",function(n,e,s){var a=n.dataset.blockId,o=e.dataset.status,r=i()(e.children).findIndex(function(t){return t.classList.contains("is-moving")}),c=function(){if(t.machine){var n=t.findTransition(e,s);if(!n)return;o=t.machine.transition(s.dataset.status,n).value}t.$emit("update-block",a,o,r)};t.beforeUpdateBlockHook?t.$emit("before-update-block",a,o,r,c,t.drake.cancel):c()}).on("dragend",function(t){t.classList.remove("is-moving"),window.setTimeout(function(){t.classList.add("is-moved"),window.setTimeout(function(){t.classList.remove("is-moved")},600)},100)})},created:function(){this.stateMachineConfig&&(this.machine=e.i(l.a)(this.stateMachineConfig))}}},86:function(t,n){}},[41]);
//# sourceMappingURL=app.2842151b0b98593ffc8c.js.map